<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breathy Presentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Foundational styles for fonts, colors, and layout */
        body {
            font-family: 'Lato', sans-serif;
            background-color: #F7F5F2;
            color: #333333;
        }
        .font-playfair { font-family: 'Playfair Display', serif; }
        .font-lato { font-family: 'Lato', sans-serif; }
        
        .primary-color-1 { color: #14b8a6; }
        .charcoal-grey { color: #333333; }
        .bg-neutral-off-white { background-color: #F7F5F2; }

        /* Hides slides by default */
        .slide { display: none; }
        /* Shows the active slide */
        .slide.active { display: flex; }

        /* Animation for a subtle fade-in effect */
        @keyframes subtleFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .subtle-fade-in { animation: subtleFadeIn 2s forwards; }

        /* Dashboard Zoom Animation Keyframes */
        @keyframes zoomIn {
            from { transform: scale(1); }
            to { transform: scale(1.5); }
        }
        /* Class to apply the zoom animation */
        .animate-zoom {
            animation-name: zoomIn;
            animation-duration: 4s;
            animation-fill-mode: forwards;
            animation-timing-function: ease-in-out;
        }
    </style>
</head>
<body class="bg-neutral-off-white flex items-center justify-center h-screen p-4">

    <div id="presentation" class="relative w-[95vw] h-[95vh]">
        
        <!-- Slide 1: Title Slide -->
        <div id="slide-1" class="slide active absolute inset-0 w-full h-full flex-col justify-center items-center p-12 bg-neutral-off-white rounded-lg transition-opacity duration-1000 overflow-hidden">
            <div class="relative w-full h-full text-center flex flex-col justify-center items-center">
                <img
                    src="https://nvyyhucqrsptqctegnto.supabase.co/storage/v1/object/public/breathy-content/patient-app-images/presentation%201.jpeg"
                    alt="Welcoming healthcare professional"
                    class="absolute inset-0 w-full h-full object-cover opacity-4 rounded-lg"
                    onerror="this.onerror=null; this.src='https://placehold.co/1920x1080/cbe3de/333333?text=Healthcare+Setting';"
                />
                <img 
                    src="https://nvyyhucqrsptqctegnto.supabase.co/storage/v1/object/public/breathy-content/patient-app-images/header-logo-white.png" 
                    alt="Breathy Logo" 
                    class="absolute top-8 right-8 h-12 w-12 rounded-md"
                />
                <div class="relative z-10 subtle-fade-in">
                    <p class="font-lato text-2xl primary-color-1 font-bold">Breathy-For Doctors</p>
                    <h1 class="font-playfair text-6xl primary-color-1 mt-4 max-w-4xl mx-auto">
                        Introducing Breathy: Revolutionizing Healthcare Management.
                    </h1>
                    <p class="font-lato text-2xl mt-6 charcoal-grey">
                        Streamlining Doctor-Patient Communication and Practice Management.
                    </p>
                </div>
            </div>
        </div>

        <!-- Slide 2: Dashboard Slide -->
        <div id="slide-2" class="slide absolute inset-0 w-full h-full flex-col justify-center items-center p-12 bg-neutral-off-white rounded-lg transition-opacity duration-1000 overflow-hidden">
            <div class="relative w-full h-full flex items-center justify-center bg-gray-100 rounded-lg">
                <div class="relative w-[80%] h-[80%] overflow-hidden rounded-lg shadow-2xl">
                    <img
                        id="dashboard-image"
                        src="https://nvyyhucqrsptqctegnto.supabase.co/storage/v1/object/public/breathy-content/patient-app-images/Dashboard.png"
                        alt="Breathy Dashboard"
                        class="absolute w-full h-full object-contain"
                    />
                </div>
                <button
                    id="play-pause-btn"
                    class="absolute bottom-8 right-8 bg-white/80 backdrop-blur-sm p-4 rounded-full shadow-lg transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#14b8a6]"
                    aria-label="Pause animation"
                >
                    <!-- Icon will be injected by JavaScript -->
                </button>
            </div>
        </div>

        <!-- Master Footer -->
        <div id="master-footer" class="absolute bottom-4 left-4 right-4 flex justify-between items-center text-xs text-gray-400 z-20">
            <div class="flex items-center">
                <img 
                    src="https://nvyyhucqrsptqctegnto.supabase.co/storage/v1/object/public/breathy-content/patient-app-images/header-logo-white.png" 
                    alt="Breathy Logo" 
                    class="h-5 w-5 mr-2 rounded-sm"
                />
                <span class="font-playfair primary-color-1">Breathy</span>
            </div>
            <div id="slide-counter">1 / 2</div>
        </div>

        <!-- Navigation Buttons -->
        <button id="prev-btn" class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/50 p-2 rounded-full shadow-md hover:bg-white transition-colors z-20 hidden">&#10094;</button>
        <button id="next-btn" class="absolute right-4 top-1/2 -translate-y-1/2 bg-white/50 p-2 rounded-full shadow-md hover:bg-white transition-colors z-20">&#10095;</button>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- STATE MANAGEMENT ---
            let currentSlide = 1;
            const totalSlides = 2;
            let isPlaying = true;
            let activeQuadrant = 0;
            const quadrants = ['top left', 'top right', 'bottom left', 'bottom right'];

            // --- DOM ELEMENT REFERENCES ---
            const slides = document.querySelectorAll('.slide');
            const slideCounter = document.getElementById('slide-counter');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const dashboardImage = document.getElementById('dashboard-image');
            const playPauseBtn = document.getElementById('play-pause-btn');

            const playIcon = `<svg class="w-8 h-8 primary-color-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" /></svg>`;
            const pauseIcon = `<svg class="w-8 h-8 primary-color-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 00-1 1v2a1 1 0 102 0V9a1 1 0 00-1-1zm6 0a1 1 0 00-1 1v2a1 1 0 102 0V9a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>`;

            // --- FUNCTIONS ---

            /**
             * Updates the UI to show the correct slide and navigation buttons.
             * @param {number} slideNumber - The slide to display.
             */
            function showSlide(slideNumber) {
                slides.forEach((slide, index) => {
                    slide.classList.toggle('active', index + 1 === slideNumber);
                });
                slideCounter.textContent = `${slideNumber} / ${totalSlides}`;
                prevBtn.classList.toggle('hidden', slideNumber === 1);
                nextBtn.classList.toggle('hidden', slideNumber === totalSlides);

                // Start or stop the dashboard animation based on the active slide
                if (slideNumber === 2) {
                    startDashboardAnimation();
                } else {
                    resetDashboardAnimation();
                }
            }

            /**
             * Starts or restarts the zoom animation for the current quadrant.
             */
            function startDashboardAnimation() {
                dashboardImage.classList.remove('animate-zoom');
                // A slight delay is needed for the browser to recognize the class removal before re-adding it.
                void dashboardImage.offsetWidth; // This forces a browser reflow.
                
                dashboardImage.style.transformOrigin = quadrants[activeQuadrant];
                dashboardImage.classList.add('animate-zoom');
                dashboardImage.style.animationPlayState = 'running';
                setIsPlaying(true);
            }
            
            /**
             * Resets the dashboard animation to its initial state.
             */
            function resetDashboardAnimation() {
                dashboardImage.classList.remove('animate-zoom');
                dashboardImage.style.transformOrigin = 'center center';
                dashboardImage.style.transform = 'scale(1)';
                activeQuadrant = 0;
                setIsPlaying(true);
            }

            /**
             * Toggles the play/pause state of the animation.
             */
            function togglePlayPause() {
                setIsPlaying(!isPlaying);
                dashboardImage.style.animationPlayState = isPlaying ? 'running' : 'paused';
            }
            
            /**
             * Updates the isPlaying state and the button icon.
             * @param {boolean} state - The new playing state.
             */
            function setIsPlaying(state) {
                isPlaying = state;
                playPauseBtn.innerHTML = isPlaying ? pauseIcon : playIcon;
                playPauseBtn.setAttribute('aria-label', isPlaying ? 'Pause animation' : 'Play animation');
            }

            // --- EVENT LISTENERS ---

            nextBtn.addEventListener('click', () => {
                if (currentSlide < totalSlides) {
                    currentSlide++;
                    showSlide(currentSlide);
                }
            });

            prevBtn.addEventListener('click', () => {
                if (currentSlide > 1) {
                    currentSlide--;
                    showSlide(currentSlide);
                }
            });

            playPauseBtn.addEventListener('click', togglePlayPause);

            // This event fires when the CSS animation for a quadrant finishes.
            dashboardImage.addEventListener('animationend', () => {
                if (currentSlide === 2) { // Only proceed if on the correct slide
                    activeQuadrant = (activeQuadrant + 1) % quadrants.length;
                    startDashboardAnimation();
                }
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' && currentSlide < totalSlides) {
                    nextBtn.click();
                } else if (e.key === 'ArrowLeft' && currentSlide > 1) {
                    prevBtn.click();
                }
            });

            // --- INITIALIZATION ---
            showSlide(currentSlide);
            setIsPlaying(true); // Set initial icon
        });
    </script>
</body>
</html>
